# ETFkalkulator.pl â€” ReguÅ‚y projektu dla Cascade
# Ten plik jest czytany automatycznie przez Cascade przy kaÅ¼dej sesji.
# Nie usuwaj ani nie modyfikuj bez konsultacji.

---

## ğŸ¯ Kontekst projektu

Budujemy ETFkalkulator.pl â€” bezpÅ‚atne narzÄ™dzie edukacyjne dla polskich inwestorÃ³w-amatorÃ³w.
Projekt prowadzi jedna osoba (poczÄ…tkujÄ…cy developer). Kod musi byÄ‡ czytelny, dobrze skomentowany
i Å‚atwy do rozbudowy w przyszÅ‚oÅ›ci.

PeÅ‚na specyfikacja projektu: `PRD.md`

---

## ğŸŒ¿ Filozofia designu â€” PRIORYTET NAJWYÅ»SZY

### Inspiracja
Apple + natura + zÅ‚oty podziaÅ‚. KaÅ¼dy element ma cel. PrzestrzeÅ„ jest wartoÅ›ciÄ…, nie pustkÄ….

### Cel emocjonalny
UÅ¼ytkownik ma czuÄ‡: **spokÃ³j â†’ zaufanie â†’ nadziejÄ™ â†’ motywacjÄ™ do dziaÅ‚ania**.
Strona ma zachÄ™caÄ‡ do oszczÄ™dzania i inwestowania przez atmosferÄ™ â€” nie przez agresywny marketing.

### Paleta kolorÃ³w (CSS Variables â€” uÅ¼ywaj ZAWSZE tych zmiennych)
```css
:root {
  /* TÅ‚a */
  --color-bg:           #FAFAF7;   /* ciepÅ‚a biel â€” gÅ‚Ã³wne tÅ‚o */
  --color-bg-secondary: #F2F5F0;   /* jasnozielona biel â€” karty, sekcje */
  --color-bg-elevated:  #FFFFFF;   /* czysta biel â€” karty uniesione */

  /* ZieleÅ„ â€” gÅ‚Ã³wny kolor akcentowy */
  --color-green-900:    #1A3D2B;   /* tekst na zielonym tle */
  --color-green-700:    #2D6A4F;   /* nagÅ‚Ã³wki, ikony */
  --color-green-500:    #40916C;   /* przyciski, linki aktywne */
  --color-green-300:    #74C69D;   /* akcenty, bordery */
  --color-green-100:    #D8F3DC;   /* tÅ‚a tagÃ³w, subtelne wypeÅ‚nienia */
  --color-green-50:     #F0FFF4;   /* hover stany, highlights */

  /* Neutralne */
  --color-text-primary:   #1C1C1E;  /* gÅ‚Ã³wny tekst â€” jak Apple */
  --color-text-secondary: #6E6E73;  /* opisy, labele */
  --color-text-muted:     #AEAEB2;  /* placeholdery, disabled */
  --color-border:         #E5E7EB;  /* bordery kart */
  --color-border-subtle:  #F0F0F0;  /* bardzo subtelne linie */

  /* Akcenty */
  --color-gold:    #B8860B;  /* zÅ‚oto â€” uÅ¼yj bardzo oszczÄ™dnie, tylko premium momenty */
  --color-error:   #D32F2F;
  --color-warning: #F59E0B;
  --color-success: --color-green-500;
}
```

### Typografia
```css
/* Import w kaÅ¼dym pliku HTML w <head> */
/* <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600&family=DM+Serif+Display&display=swap" rel="stylesheet"> */

:root {
  --font-sans:    'DM Sans', sans-serif;       /* UI, ciaÅ‚o tekstu, labele */
  --font-display: 'DM Serif Display', serif;   /* duÅ¼e nagÅ‚Ã³wki hero â€” emocjonalny kontrast */

  /* Skala typograficzna â€” zÅ‚oty podziaÅ‚ (Ã—1.618) */
  --text-xs:   0.694rem;   /* 11px */
  --text-sm:   0.833rem;   /* 13px */
  --text-base: 1rem;       /* 16px */
  --text-md:   1.2rem;     /* 19px */
  --text-lg:   1.44rem;    /* 23px */
  --text-xl:   1.728rem;   /* 28px */
  --text-2xl:  2.074rem;   /* 33px */
  --text-3xl:  2.488rem;   /* 40px */
  --text-4xl:  2.986rem;   /* 48px */

  /* Wagi */
  --weight-light:   300;
  --weight-regular: 400;
  --weight-medium:  500;
  --weight-semibold: 600;
}
```

### PrzestrzeÅ„ â€” zÅ‚oty podziaÅ‚ (base: 8px)
```css
:root {
  --space-1:  4px;
  --space-2:  8px;
  --space-3:  13px;   /* 8 Ã— 1.618 */
  --space-4:  16px;
  --space-5:  21px;   /* 13 Ã— 1.618 */
  --space-6:  24px;
  --space-8:  34px;   /* 21 Ã— 1.618 */
  --space-10: 40px;
  --space-12: 55px;   /* 34 Ã— 1.618 */
  --space-16: 64px;
  --space-20: 89px;   /* 55 Ã— 1.618 */
  --space-24: 144px;  /* 89 Ã— 1.618 */

  /* Promienie zaokrÄ…gleÅ„ */
  --radius-sm: 8px;
  --radius-md: 13px;
  --radius-lg: 21px;
  --radius-xl: 34px;
  --radius-full: 9999px;

  /* Cienie â€” subtelne, jak Apple */
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04);
  --shadow-md: 0 4px 16px rgba(0,0,0,0.07), 0 2px 6px rgba(0,0,0,0.05);
  --shadow-lg: 0 12px 40px rgba(0,0,0,0.10), 0 4px 12px rgba(0,0,0,0.06);

  /* Maksymalna szerokoÅ›Ä‡ treÅ›ci */
  --max-width: 1120px;
  --max-width-text: 680px;  /* zÅ‚oty podziaÅ‚ od 1120px â‰ˆ 692px */
}
```

### Zasady wizualne (ZAWSZE przestrzegaj)
- **PrzestrzeÅ„ jest wartoÅ›ciÄ…** â€” nie wypeÅ‚niaj ekranu. Daj elementom oddychaÄ‡.
- **Jeden punkt uwagi** â€” kaÅ¼da sekcja ma jeden gÅ‚Ã³wny element. Reszta go wspiera.
- **Animacje: subtelne i celowe** â€” transition: 200ms ease. Nigdy dla efektu, zawsze dla klarownoÅ›ci.
- **Mobile-first** â€” zacznij od 375px, rozszerzaj przez media queries.
- **ZaokrÄ…glenia** â€” karty min. `--radius-md`, przyciski `--radius-full` lub `--radius-lg`.
- **Nigdy czarny tekst na biaÅ‚ym** â€” uÅ¼ywaj `--color-text-primary: #1C1C1E`.

---

## ğŸ’» Zasady kodowania

### JÄ™zyk i komunikacja
- **Komentarze w kodzie: po polsku** â€” to TwÃ³j projekt, wracasz do niego za miesiÄ…c
- **Nazwy zmiennych i funkcji: po angielsku** â€” standard branÅ¼owy
- **Commit messages: po polsku** â€” np. "Dodaj kalkulator obligacji EDO"

### HTML
```html
<!-- âœ… DOBRZE â€” semantyczne, dostÄ™pne -->
<main>
  <section aria-labelledby="kalkulator-title">
    <h2 id="kalkulator-title">Kalkulator obligacji</h2>
    <label for="kwota">Kwota inwestycji (zÅ‚)</label>
    <input type="number" id="kwota" name="kwota" placeholder="np. 10000">
  </section>
</main>

<!-- âŒ Å¹LE â€” div soup -->
<div class="wrapper">
  <div class="title">Kalkulator</div>
  <div class="input-box">...</div>
</div>
```
- Zawsze `<label for="...">` dla kaÅ¼dego pola
- Alt text dla kaÅ¼dego obrazu i wykresu: `alt="Wykres wzrostu kapitaÅ‚u przez 10 lat"`
- `lang="pl"` w `<html>`

### CSS
- **Zawsze uÅ¼ywaj CSS Variables** z `variables.css` â€” nigdy hardcodowanych wartoÅ›ci
- **BEM dla klas** â€” `.kalkulator__pole`, `.kalkulator__pole--aktywne`
- **Mobile-first** â€” base styles dla maÅ‚ych ekranÃ³w, media queries dla wiÄ™kszych
```css
/* âœ… DOBRZE */
.karta {
  padding: var(--space-5);
  border-radius: var(--radius-md);
  background: var(--color-bg-elevated);
  box-shadow: var(--shadow-sm);
}

/* âŒ Å¹LE */
.karta {
  padding: 21px;
  border-radius: 13px;
  background: #ffffff;
}
```

### JavaScript
- **Vanilla JS** â€” bez frameworkÃ³w (React, Vue) w tej fazie projektu
- **KaÅ¼dy kalkulator w osobnym pliku** â€” `js/calculators/obligacje.js`
- **Komentuj logikÄ™ finansowÄ…** â€” wzory matematyczne szczegÃ³lnie
```javascript
// âœ… DOBRZE â€” czytelna funkcja z komentarzem
/**
 * Oblicza zysk realny po podatku Belki i inflacji
 * @param {number} kapital - kwota inwestycji w zÅ‚
 * @param {number} stopaRoczna - oprocentowanie nominalne (np. 0.065 dla 6.5%)
 * @param {number} inflacja - roczna inflacja (np. 0.035 dla 3.5%)
 * @param {number} lata - liczba lat inwestycji
 * @returns {object} - { zyskNominalny, podatekBelki, zyskPoOpodatkowaniu, zyskRealny }
 */
function obliczZyskObligacji(kapital, stopaRoczna, inflacja, lata) {
  // Podatek Belki: 19% od zysku
  const PODATEK_BELKI = 0.19;
  // ...
}
```
- **Live update** â€” `input` event na polach, wyniki aktualizujÄ… siÄ™ natychmiast
- **Formatowanie liczb** â€” zawsze uÅ¼ywaj `utils.js`:
```javascript
// utils.js â€” te funkcje uÅ¼ywaj wszÄ™dzie
const formatujZl = (n) => new Intl.NumberFormat('pl-PL', { style: 'currency', currency: 'PLN' }).format(n);
const formatujProcent = (n) => new Intl.NumberFormat('pl-PL', { style: 'percent', minimumFractionDigits: 2 }).format(n);
```

### Wykresy (Chart.js)
- Kolory wykresÃ³w: `--color-green-500` jako gÅ‚Ã³wny, `--color-green-300` jako pomocniczy
- Zawsze `responsive: true` i `maintainAspectRatio: false`
- Tooltips po polsku â€” konfiguruj `locale: 'pl-PL'`

---

## ğŸ“ Struktura plikÃ³w (nie zmieniaj bez powodu)

```
etfkalkulator/
â”œâ”€â”€ index.html                         â† strona gÅ‚Ã³wna
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ reset.css                      â† normalizacja (nie edytuj)
â”‚   â”œâ”€â”€ variables.css                  â† WSZYSTKIE zmienne CSS
â”‚   â””â”€â”€ main.css                       â† style globalne
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ calculators/
â”‚   â”‚   â”œâ”€â”€ obligacje.js               â† ModuÅ‚ 1
â”‚   â”‚   â”œâ”€â”€ wolnosc.js                 â† ModuÅ‚ 2
â”‚   â”‚   â””â”€â”€ porownywarka.js            â† ModuÅ‚ 3
â”‚   â”œâ”€â”€ charts.js                      â† Chart.js konfiguracja
â”‚   â””â”€â”€ utils.js                       â† formatowanie, helpers
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ kalkulator-obligacji.html
â”‚   â”œâ”€â”€ kalkulator-wolnosci.html
â”‚   â””â”€â”€ porownywarka.html
â”œâ”€â”€ php/
â”‚   â””â”€â”€ newsletter.php
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ img/
â”‚   â””â”€â”€ favicon/
â”œâ”€â”€ PRD.md                             â† specyfikacja projektu
â”œâ”€â”€ PRD.docx                           â† wersja Word
â”œâ”€â”€ CHANGELOG.md                       â† historia zmian
â””â”€â”€ .windsurfrules                     â† ten plik
```

---

## âš–ï¸ Wymagania prawne (NIGDY nie pomiÅ„)

KaÅ¼da strona z kalkulatorem MUSI zawieraÄ‡ disclaimer w stopce:
```html
<p class="disclaimer">
  Serwis ETFkalkulator.pl ma charakter wyÅ‚Ä…cznie edukacyjny. Prezentowane obliczenia
  nie stanowiÄ… rekomendacji inwestycyjnej w rozumieniu obowiÄ…zujÄ…cych przepisÃ³w prawa.
  Inwestowanie wiÄ…Å¼e siÄ™ z ryzykiem utraty kapitaÅ‚u.
</p>
```

---

## ğŸš¦ Checklist przed kaÅ¼dym commitem

- [ ] Komentarze po polsku w nowym kodzie
- [ ] UÅ¼yte CSS Variables (nie hardcoded wartoÅ›ci)
- [ ] Formularz ma `<label>` dla kaÅ¼dego `<input>`
- [ ] Disclaimer widoczny na stronie z kalkulatorem
- [ ] DziaÅ‚a na ekranie 375px (mobile)
- [ ] CHANGELOG.md zaktualizowany

---

*ETFkalkulator.pl â€” .windsurfrules v1.0*
