/* Fix globalne: inputy nie rozszerzają layoutu na mobile */
input[type="number"],
input[type="text"],
input[type="email"],
select {
  min-width: 0;
  max-width: 100%;
  width: 100%;
  /* iOS: font-size >= 16px zapobiega auto-zoom który przesuwa layout */
  font-size: 16px;
}

/* ============================================================
   main.css — ETFkalkulator.pl
   Globalne style używane na każdej podstronie.
   Korzysta z tokenów zdefiniowanych w variables.css.
   ============================================================ */


/* ----------------------------------------------------------
   BAZA — body i podstawowy układ
   ---------------------------------------------------------- */

body {
  font-family: var(--font-sans);
  font-size: var(--text-base);
  font-weight: var(--weight-regular);
  line-height: var(--leading-normal);
  color: var(--color-text-primary);
  background-color: var(--color-bg);

  /* Wygładzanie fontów — jak Apple */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Kontener treści — centruje i ogranicza szerokość */
.container {
  width: 100%;
  max-width: var(--max-width);
  margin-inline: auto;
  padding-inline: var(--space-5);
  overflow-x: hidden;
}

/* Wąski kontener dla tekstu — łatwiejsze czytanie */
.container--narrow {
  max-width: var(--max-width-text);
}


/* ----------------------------------------------------------
   NAGŁÓWEK STRONY
   ---------------------------------------------------------- */

.header {
  height: var(--header-height);
  background: var(--color-bg-elevated);
  border-bottom: 1px solid var(--color-border-subtle);
  position: sticky; /* przyklejony do góry przy scrollowaniu */
  top: 0;
  z-index: 100;

  /* Delikatny efekt rozmycia tła — jak macOS */
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  background: rgba(255, 255, 255, 0.85);
}

.header__inner {
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.header__logo {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  color: var(--color-green-700);
  letter-spacing: -0.02em;
}

.header__logo span {
  color: var(--color-green-500);
}

.header__nav {
  display: flex;
  align-items: center;
  gap: var(--space-6);
}

.header__nav a {
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  color: var(--color-text-secondary);
  transition: color var(--transition-fast);
}

.header__nav a:hover {
  color: var(--color-green-500);
}

/* Na małych ekranach chowamy linki, zostawiamy przycisk dark mode */
@media (max-width: 640px) {
  .header__nav {
    display: flex;
    gap: var(--space-2);
  }
  .header__nav a {
    display: none;
  }
  /* Przycisk dark mode zawsze widoczny */
  .header__nav button {
    display: flex;
  }
}


/* ----------------------------------------------------------
   TYPOGRAFIA — nagłówki i tekst
   ---------------------------------------------------------- */

.heading-display {
  font-family: var(--font-display);
  font-size: var(--text-4xl);
  line-height: var(--leading-tight);
  letter-spacing: -0.02em;
  color: var(--color-text-primary);
}

.heading-1 {
  font-size: var(--text-3xl);
  font-weight: var(--weight-semibold);
  line-height: var(--leading-tight);
  letter-spacing: -0.02em;
}

.heading-2 {
  font-size: var(--text-xl);
  font-weight: var(--weight-semibold);
  line-height: var(--leading-tight);
}

.heading-3 {
  font-size: var(--text-lg);
  font-weight: var(--weight-medium);
  line-height: var(--leading-tight);
}

.text-lead {
  font-size: var(--text-md);
  font-weight: var(--weight-light);
  line-height: var(--leading-relaxed);
  color: var(--color-text-secondary);
}

.text-small {
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
}

.text-muted {
  color: var(--color-text-muted);
  font-size: var(--text-sm);
}

/* Tekst akcentowy — zielony */
.text-accent {
  color: var(--color-green-500);
}


/* ----------------------------------------------------------
   PRZYCISKI
   ---------------------------------------------------------- */

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-6);
  border-radius: var(--radius-full);
  font-family: var(--font-sans);
  font-size: var(--text-base);
  font-weight: var(--weight-medium);
  border: none;
  cursor: pointer;
  transition: all var(--transition-normal);
  text-decoration: none;
  white-space: nowrap;
}

/* Główny przycisk — zielony */
.btn--primary {
  background: var(--color-green-500);
  color: #ffffff;
  box-shadow: var(--shadow-green);
}

.btn--primary:hover {
  background: var(--color-green-700);
  transform: translateY(-1px); /* delikatne uniesienie — jak Apple */
  box-shadow: 0 6px 24px rgba(64, 145, 108, 0.35);
}

.btn--primary:active {
  transform: translateY(0);
}

/* Drugorzędny przycisk — outline */
.btn--secondary {
  background: transparent;
  color: var(--color-green-500);
  border: 1.5px solid var(--color-green-300);
}

.btn--secondary:hover {
  background: var(--color-green-50);
  border-color: var(--color-green-500);
}

/* Mały przycisk */
.btn--sm {
  padding: var(--space-2) var(--space-4);
  font-size: var(--text-sm);
}


/* ----------------------------------------------------------
   KARTY
   ---------------------------------------------------------- */

.card {
  background: var(--color-bg-elevated);
  border-radius: var(--radius-lg);
  padding: var(--space-8);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--color-border-subtle);
  transition: box-shadow var(--transition-normal);
}

.card:hover {
  box-shadow: var(--shadow-md);
}

/* Karta z zielonym akcentem z lewej strony */
.card--accent {
  border-left: 3px solid var(--color-green-500);
}

/* Karta z delikatnym zielonym tłem */
.card--green {
  background: var(--color-green-50);
  border-color: var(--color-green-100);
}


/* ----------------------------------------------------------
   FORMULARZE — pola kalkulatora
   ---------------------------------------------------------- */

.form-group {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.form-label {
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  color: var(--color-text-secondary);
  letter-spacing: 0.01em;
}

.form-input {
  width: 100%;
  min-width: 0;
  max-width: 100%;
  padding: var(--space-3) var(--space-4);
  border: 1.5px solid var(--color-border);
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  font-size: var(--text-base);
  color: var(--color-text-primary);
  background: var(--color-bg-elevated);
  transition: border-color var(--transition-fast),
              box-shadow var(--transition-fast);

  /* Usuwa domyślne strzałki z inputów numerycznych */
  -moz-appearance: textfield;
}

.form-input::-webkit-outer-spin-button,
.form-input::-webkit-inner-spin-button {
  -webkit-appearance: none;
}

.form-input:focus {
  outline: none;
  border-color: var(--color-green-500);
  box-shadow: 0 0 0 3px rgba(64, 145, 108, 0.12);
}

.form-input::placeholder {
  color: var(--color-text-muted);
}

/* Podpowiedź pod polem */
.form-hint {
  font-size: var(--text-xs);
  color: var(--color-text-muted);
  word-wrap: break-word;
  overflow-wrap: break-word;
  white-space: normal;
  min-width: 0;
  max-width: 100%;
}

/* Pole z ikoną waluty */
.form-input-wrapper {
  display: flex;
  align-items: center;
  width: 100%;
  min-width: 0;
  border: 1.5px solid var(--color-border);
  border-radius: var(--radius-md);
  background: var(--color-bg-elevated);
  transition: border-color var(--transition-fast);
  overflow: hidden;
}

.form-input-wrapper:focus-within {
  border-color: var(--color-green-500);
  box-shadow: 0 0 0 3px rgba(64, 145, 108, 0.12);
}

.form-input-wrapper .form-input {
  /* Input bez własnego border — wrapper go ma */
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
  padding-right: var(--space-2);
  flex: 1;
  min-width: 0;
  background: transparent;
}

.form-input-wrapper .form-input:focus {
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
}

.form-input-suffix {
  flex-shrink: 0;
  padding-right: var(--space-4);
  font-size: var(--text-sm);
  color: var(--color-text-muted);
  pointer-events: none;
  white-space: nowrap;
}

/* Select — lista rozwijana */
.form-select {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  border: 1.5px solid var(--color-border);
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  font-size: var(--text-base);
  color: var(--color-text-primary);
  background: var(--color-bg-elevated);
  cursor: pointer;
  transition: border-color var(--transition-fast);
  appearance: none; /* usuwa domyślną strzałkę przeglądarki */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%236E6E73' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right var(--space-4) center;
  padding-right: var(--space-10);
}

.form-select:focus {
  outline: none;
  border-color: var(--color-green-500);
  box-shadow: 0 0 0 3px rgba(64, 145, 108, 0.12);
}


/* ----------------------------------------------------------
   WYNIKI KALKULATORA — kafelki z wartościami
   ---------------------------------------------------------- */

.wynik-siatka {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--space-4);
}

.wynik-kafelek {
  background: var(--color-bg-elevated);
  border-radius: var(--radius-md);
  padding: var(--space-5);
  border: 1px solid var(--color-border-subtle);
  transition: box-shadow var(--transition-normal);
}

.wynik-kafelek:hover {
  box-shadow: var(--shadow-sm);
}

.wynik-kafelek__etykieta {
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-bottom: var(--space-2);
}

.wynik-kafelek__wartosc {
  font-size: var(--text-xl);
  font-weight: var(--weight-semibold);
  color: var(--color-text-primary);
  line-height: 1;
}

/* Wariant zielony — dla pozytywnych wyników */
.wynik-kafelek--pozytywny .wynik-kafelek__wartosc {
  color: var(--color-green-500);
}

/* Wariant duży — główny wynik */
.wynik-kafelek--glowny {
  background: var(--color-green-50);
  border-color: var(--color-green-100);
  padding: var(--space-6);
}

.wynik-kafelek--glowny .wynik-kafelek__wartosc {
  font-size: var(--text-2xl);
  color: var(--color-green-700);
}


/* ----------------------------------------------------------
   DISCLAIMER — wymagany prawnie na każdej stronie kalkulatora
   ---------------------------------------------------------- */

.disclaimer {
  font-size: var(--text-xs);
  color: var(--color-text-muted);
  line-height: var(--leading-relaxed);
  padding: var(--space-4);
  border-radius: var(--radius-sm);
  border: 1px solid var(--color-border-subtle);
  background: var(--color-bg-secondary);
}


/* ----------------------------------------------------------
   TAG / BADGE — małe etykiety
   ---------------------------------------------------------- */

.tag {
  display: inline-flex;
  align-items: center;
  padding: var(--space-1) var(--space-3);
  border-radius: var(--radius-full);
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
}

.tag--green {
  background: var(--color-green-100);
  color: var(--color-green-700);
}


/* ----------------------------------------------------------
   STOPKA
   ---------------------------------------------------------- */

.footer {
  margin-top: var(--space-24);
  padding-block: var(--space-12);
  border-top: 1px solid var(--color-border-subtle);
  background: var(--color-bg-secondary);
}

.footer__inner {
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
  align-items: center;
  text-align: center;
}

.footer__links {
  display: flex;
  gap: var(--space-6);
  flex-wrap: wrap;
  justify-content: center;
}

.footer__links a {
  font-size: var(--text-sm);
  color: var(--color-text-muted);
  transition: color var(--transition-fast);
}

.footer__links a:hover {
  color: var(--color-green-500);
}


/* ----------------------------------------------------------
   NARZĘDZIA — klasy pomocnicze
   Wzorowane na Tailwind CSS, ale tylko to czego używamy
   ---------------------------------------------------------- */

.text-center { text-align: center; }
.text-right  { text-align: right; }

.mt-2  { margin-top: var(--space-2); }
.mt-4  { margin-top: var(--space-4); }
.mt-6  { margin-top: var(--space-6); }
.mt-8  { margin-top: var(--space-8); }
.mt-12 { margin-top: var(--space-12); }
.mt-16 { margin-top: var(--space-16); }

.mb-2  { margin-bottom: var(--space-2); }
.mb-4  { margin-bottom: var(--space-4); }
.mb-6  { margin-bottom: var(--space-6); }
.mb-8  { margin-bottom: var(--space-8); }

.gap-4 { gap: var(--space-4); }
.gap-6 { gap: var(--space-6); }
.gap-8 { gap: var(--space-8); }

.flex          { display: flex; }
.flex-col      { flex-direction: column; }
.items-center  { align-items: center; }
.justify-between { justify-content: space-between; }

.grid-2 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-4);
}

@media (max-width: 640px) {
  .grid-2 { grid-template-columns: 1fr; }
  .heading-display { font-size: var(--text-3xl); }
  .heading-1 { font-size: var(--text-2xl); }
  .card { padding: var(--space-5); }
}

/* ==========================================================
   MOBILE OVERFLOW FIX — globalny dla wszystkich stron
   Żaden element nie może rozszerzać strony w poziomie
   ========================================================== */

html, body {
  overflow-x: hidden;
  max-width: 100vw;
}

.container {
  overflow-x: hidden;
  max-width: 100%;
  box-sizing: border-box;
}

/* Każdy grid/flex kontener nie może puchnąć */
.kalkulator-uklad,
.por-uklad,
.formularz-karta,
.formularz-pola,
.form-group,
.wyniki-kolumna,
.por-wyniki {
  min-width: 0;
  max-width: 100%;
  overflow-x: hidden;
  box-sizing: border-box;
}

/* Wrapper inputa — flexbox nie pozwala dzieciom puchnąć */
.form-input-wrapper {
  overflow: hidden;
  min-width: 0;
}

/* Input nigdy nie rozszerza rodzica */
.form-input {
  min-width: 0 !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
  font-size: 16px !important; /* zapobiega auto-zoom na iOS */
  -webkit-appearance: none;
}

/* Hint pod inputem — zawija tekst */
.form-hint {
  word-wrap: break-word;
  overflow-wrap: break-word;
  white-space: normal;
  min-width: 0;
}

/* ==========================================================
   HAMBURGER MENU — mobile nawigacja
   ========================================================== */

.hamburger {
  display: none;
  flex-direction: column;
  justify-content: center;
  gap: 5px;
  width: 36px;
  height: 36px;
  background: none;
  border: 1.5px solid var(--color-border);
  border-radius: var(--radius-full);
  cursor: pointer;
  padding: 8px;
  flex-shrink: 0;
  transition: border-color var(--transition-fast);
}
.hamburger:hover { border-color: var(--color-green-500); }
.hamburger__linia {
  display: block;
  width: 100%;
  height: 1.5px;
  background: var(--color-text-secondary);
  border-radius: 2px;
  transition: all 0.3s ease;
  transform-origin: center;
}
.hamburger--otwarty .hamburger__linia:nth-child(1) {
  transform: translateY(6.5px) rotate(45deg);
}
.hamburger--otwarty .hamburger__linia:nth-child(2) {
  opacity: 0; transform: scaleX(0);
}
.hamburger--otwarty .hamburger__linia:nth-child(3) {
  transform: translateY(-6.5px) rotate(-45deg);
}

/* Mobilne menu — wysuwa się z góry */
.mobile-menu {
  display: none !important;
  position: fixed;
  top: var(--header-height);
  left: 0; right: 0;
  background: var(--color-bg-elevated);
  border-bottom: 1px solid var(--color-border);
  padding: var(--space-4) var(--space-6);
  z-index: 99;
  flex-direction: column;
  gap: var(--space-1);
  box-shadow: var(--shadow-md);
  transform: translateY(-8px);
  opacity: 0;
  transition: transform 0.25s ease, opacity 0.25s ease;
  pointer-events: none;
}
.mobile-menu--widoczne {
  display: flex !important;
  transform: translateY(0);
  opacity: 1;
  pointer-events: auto;
}
.mobile-menu a {
  display: block;
  padding: var(--space-3) var(--space-2);
  font-size: var(--text-base);
  font-weight: var(--weight-medium);
  color: var(--color-text-secondary);
  border-bottom: 1px solid var(--color-border-subtle);
  transition: color var(--transition-fast);
  text-decoration: none;
}
.mobile-menu a:last-child { border-bottom: none; }
.mobile-menu a:hover,
.mobile-menu a.aktywna { color: var(--color-green-500); }
.mobile-menu__akcje {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding-top: var(--space-3);
  margin-top: var(--space-2);
}

/* Mobile nav — poziomy pasek linków zawsze widoczny */
@media (max-width: 640px) {
  .hamburger { display: none; }  /* usuwamy hamburger */

  /* Nav linki — chowamy tekstowe, zostaje tylko dark mode + newsletter */
  .header__nav > a:not(.btn) { display: none; }
  .header__nav .btn { display: inline-flex; }

  /* Mobile nav bar — poziomy pasek pod headerem */
  .mobile-nav-bar {
    display: flex !important;
  }
}

@media (min-width: 641px) {
  .mobile-nav-bar { display: none !important; }
}

/* ==========================================================
   MOBILE NAV BAR — poziomy pasek linków pod headerem
   Zawsze widoczny na mobile (≤640px), zastępuje hamburger
   ========================================================== */

.mobile-nav-bar {
  display: none;
  position: sticky;
  top: var(--header-height);
  z-index: 98;
  background: var(--color-bg-elevated);
  border-bottom: 1px solid var(--color-border-subtle);
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  box-shadow: 0 1px 0 var(--color-border-subtle);
}
.mobile-nav-bar::-webkit-scrollbar { display: none; }

.mobile-nav-bar__inner {
  display: flex;
  align-items: center;
  gap: 0;
  padding: 0 var(--space-4);
  min-width: max-content;
}

.mobile-nav-bar__link {
  display: flex;
  align-items: center;
  padding: var(--space-3) var(--space-3);
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  color: var(--color-text-muted);
  text-decoration: none;
  white-space: nowrap;
  border-bottom: 2px solid transparent;
  transition: color 0.15s ease, border-color 0.15s ease;
  flex-shrink: 0;
}
.mobile-nav-bar__link:hover {
  color: var(--color-text-primary);
}
.mobile-nav-bar__link.aktywna {
  color: var(--color-green-600);
  border-bottom-color: var(--color-green-500);
  font-weight: var(--weight-semibold);
}
.mobile-nav-bar__separator {
  width: 1px;
  height: 16px;
  background: var(--color-border);
  flex-shrink: 0;
  margin: 0 var(--space-1);
}
.mobile-nav-bar__newsletter {
  margin-left: auto;
  padding-left: var(--space-3);
  flex-shrink: 0;
}

/* ==========================================================
   WSPÓLNE KOMPONENTY — używane przez wszystkie moduły
   ========================================================== */

/* Kafelki wyników */
.kafelek {
  background: var(--color-bg-elevated);
  border-radius: var(--radius-lg);
  padding: var(--space-5);
  border: 1px solid var(--color-border-subtle);
}
.kafelek__etykieta {
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-bottom: var(--space-2);
  display: flex;
  align-items: center;
}
.kafelek__wartosc {
  font-size: var(--text-xl);
  font-weight: var(--weight-semibold);
  color: var(--color-text-primary);
  line-height: 1;
}
.kafelek__podpis {
  font-size: var(--text-xs);
  color: var(--color-text-muted);
  margin-top: var(--space-1);
}
.kafelek--negatywny .kafelek__wartosc { color: var(--color-error); }
.kafelek--zielony { background: var(--color-green-50); border-color: var(--color-green-100); }
.kafelek--zielony .kafelek__wartosc { color: var(--color-green-700); }
.kafelek--realny { background: var(--color-green-50); border-color: var(--color-green-100); }
.kafelek--realny .kafelek__wartosc { color: var(--color-green-700); }

/* Siatka kafelków */
.wyniki-siatka {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-3);
}
@media (max-width: 500px) { .wyniki-siatka { grid-template-columns: 1fr; } }

/* Wykres */
.wykres-karta {
  background: var(--color-bg-elevated);
  border-radius: var(--radius-xl);
  padding: var(--space-6);
  border: 1px solid var(--color-border-subtle);
  box-shadow: var(--shadow-sm);
}
.wykres-karta__naglowek {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-5);
  flex-wrap: wrap;
  gap: var(--space-3);
}
.wykres-karta__tytul {
  font-size: var(--text-base);
  font-weight: var(--weight-semibold);
  color: var(--color-text-primary);
}
.wykres-karta__opis {
  font-size: var(--text-xs);
  color: var(--color-text-muted);
}
.wykres-container {
  position: relative;
  height: 300px;
}

/* Tabela */
.tabela-karta {
  background: var(--color-bg-elevated);
  border-radius: var(--radius-xl);
  padding: var(--space-6);
  border: 1px solid var(--color-border-subtle);
  overflow-x: auto;
}
.tabela-karta__tytul {
  font-size: var(--text-base);
  font-weight: var(--weight-semibold);
  color: var(--color-text-primary);
  margin-bottom: var(--space-5);
}
.tabela { width: 100%; font-size: var(--text-sm); border-collapse: collapse; }
.tabela th {
  text-align: left;
  padding: var(--space-2) var(--space-3);
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.06em;
  border-bottom: 1px solid var(--color-border);
}
.tabela td {
  padding: var(--space-3);
  color: var(--color-text-primary);
  border-bottom: 1px solid var(--color-border-subtle);
}
.tabela tr:last-child td { border-bottom: none; }
.tabela tr:hover td { background: var(--color-bg-secondary); }
.tabela td:not(:first-child),
.tabela th:not(:first-child) { text-align: right; }

/* Słowniczek */
.edukacja {
  margin-top: var(--space-16);
  padding-top: var(--space-12);
  border-top: 1px solid var(--color-border-subtle);
}
.edukacja__siatka {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: var(--space-4);
  margin-top: var(--space-8);
}
.pojecie {
  padding: var(--space-5);
  background: var(--color-bg-secondary);
  border-radius: var(--radius-md);
}
.pojecie__term {
  font-size: var(--text-sm);
  font-weight: var(--weight-semibold);
  color: var(--color-green-700);
  margin-bottom: var(--space-2);
  display: flex;
  align-items: center;
}
.pojecie__def {
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
  line-height: var(--leading-relaxed);
}

/* Główny wynik — gradient card */
.wynik-glowny {
  background: linear-gradient(145deg, var(--color-green-900) 0%, var(--color-green-700) 50%, var(--color-green-500) 100%);
  border-radius: var(--radius-xl);
  padding: var(--space-10) var(--space-8);
  color: white;
  text-align: center;
  position: relative;
  overflow: hidden;
  box-shadow: 0 8px 40px rgba(64,145,108,0.35);
}
.wynik-glowny::before {
  content: '';
  position: absolute;
  top: -60px; right: -60px;
  width: 200px; height: 200px;
  background: rgba(255,255,255,0.05);
  border-radius: 50%;
  pointer-events: none;
}
.wynik-glowny::after {
  content: '';
  position: absolute;
  bottom: -40px; left: -40px;
  width: 150px; height: 150px;
  background: rgba(255,255,255,0.04);
  border-radius: 50%;
  pointer-events: none;
}
.wynik-glowny__etykieta {
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: 0.14em;
  opacity: 0.65;
  margin-bottom: var(--space-4);
  display: flex;
  align-items: center;
  justify-content: center;
}
.wynik-glowny__wartosc {
  font-family: var(--font-display);
  font-size: clamp(2.2rem, 4vw, 3.2rem);
  line-height: 1;
  margin-bottom: var(--space-4);
  position: relative;
  z-index: 1;
  text-shadow: 0 2px 20px rgba(0,0,0,0.15);
}
.wynik-glowny__opis {
  font-size: var(--text-sm);
  opacity: 0.6;
  position: relative;
  z-index: 1;
}

/* Layout kalkulator */
.kalkulator-uklad {
  display: grid;
  grid-template-columns: 1fr 1.5fr;
  gap: var(--space-6);
  margin-top: var(--space-8);
  align-items: start;
  width: 100%;
  overflow: hidden;
}
.wyniki-kolumna {
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
  min-width: 0;
}
@media (max-width: 860px) {
  .kalkulator-uklad { grid-template-columns: 1fr; overflow: hidden; }
  .formularz-karta { position: static !important; max-height: none !important; overflow: hidden !important; }
}

/* Hero podstrony */
.page-hero { padding-block: var(--space-12) var(--space-6); }
.page-hero__bread {
  font-size: var(--text-sm);
  color: var(--color-text-muted);
  margin-bottom: var(--space-4);
}
.page-hero__bread a { color: var(--color-green-500); }
.page-hero__bread a:hover { text-decoration: underline; }

/* Formularz karta */
.formularz-karta {
  background: var(--color-bg-elevated);
  border-radius: var(--radius-xl);
  padding: var(--space-8);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--color-border-subtle);
  position: sticky;
  top: calc(var(--header-height) + var(--space-4));
  max-height: calc(100vh - var(--header-height) - var(--space-8));
  overflow-y: auto;
  overflow-x: hidden;
  min-width: 0;
}
.formularz-sekcja {
  font-size: var(--text-xs);
  font-weight: var(--weight-semibold);
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: var(--space-4);
  margin-top: var(--space-6);
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-border-subtle);
}
.formularz-sekcja:first-child { margin-top: 0; padding-top: 0; border-top: none; }
.formularz-pola { display: flex; flex-direction: column; gap: var(--space-4); }

/* Przycisk okres */
.btn-okres-grupa { display: flex; gap: var(--space-2); margin-top: var(--space-2); flex-wrap: wrap; }
.btn-okres {
  flex: 1;
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-full);
  border: 1.5px solid var(--color-border);
  background: transparent;
  color: var(--color-text-secondary);
  font-family: var(--font-sans);
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  cursor: pointer;
  transition: all var(--transition-fast);
  white-space: nowrap;
  min-width: 0;
}
.btn-okres--aktywny {
  background: var(--color-green-500);
  border-color: var(--color-green-500);
  color: white;
}

/* IKE checkbox */
.ike-row {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  padding: var(--space-4);
  background: var(--color-green-50);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-green-100);
  cursor: pointer;
  width: 100%;
  box-sizing: border-box;
  overflow: hidden;
}
.ike-row input[type="checkbox"] {
  width: 18px !important;
  min-width: 18px !important;
  max-width: 18px !important;
  height: 18px;
  margin-top: 2px;
  accent-color: var(--color-green-500);
  cursor: pointer;
  flex-shrink: 0;
}
.ike-row__tekst { flex: 1; min-width: 0; overflow: hidden; }
.ike-row__tekst strong {
  color: var(--color-green-700);
  font-weight: var(--weight-medium);
  font-size: var(--text-sm);
  display: block;
  margin-bottom: 2px;
  word-wrap: break-word;
}
.ike-row__tekst span {
  font-size: var(--text-xs);
  color: var(--color-text-secondary);
  display: block;
  word-wrap: break-word;
}

/* Transitions dark mode */
body, .header, .formularz-karta, .kafelek, .wykres-karta,
.pojecie, .porownanie, .tabela-karta {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* Mobile kafelek hint */
@media (max-width: 768px) {
  .kafelek::after {
    content: 'Dotknij po więcej informacji';
    display: block;
    font-size: 10px;
    color: var(--color-text-muted);
    margin-top: var(--space-2);
    opacity: 0.7;
  }
  .kafelek { padding: var(--space-4); text-align: center; }
  .kafelek__etykieta { justify-content: center; }
  .kafelek__podpis { text-align: center; }
  .wykres-container { height: 240px; }
  .page-hero { padding-block: var(--space-8) var(--space-4); }
}
